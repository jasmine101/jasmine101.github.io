<!DOCTYPE html>
<html>

<head>
    <title>A console.log Hangman Game</title>
    <style>
    </style>
</head>

<body>
    Hit <kbd>F12</kbd> to open up the console to see the game!

    <script src="//cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.8/processing.min.js"></script>
    <script src="hangman-utils.js"></script>

    <script>
        (function() {
            'use strict'

            // Write your code below
            var secretPhrase;
            secretPhrase = "cats"
            console.log("The secret phrase is ", secretPhrase);


            var displayCurrent;
            var guess;

            displayCurrent = function() {
                
                var numberOfDashes = 0;
                
                var currentPhrase = hangman.forEachCharacter(secretPhrase, function(character) {
                    if (character === " ") {
                        return " ";
                    }else if( hangman.hasBeenGuessed(character) ){
                        return character;   
                    } else {
                        
                        numberOfDashes = numberOfDashes + 1;
                        
                      return "-";
                    }
                });
                console.log("current phrase is", currentPhrase);
                if( numberOfDashes === 0) {
                    //Then they won
                    console.log("Congrats, you're a winner");
                    hangman.cornify();
                
                }
            };
            
            guess = function(characterGuess) {
                hangman.recordGuess(characterGuess);
                displayCurrent();
            };

            displayCurrent();


            // Export variables you want available in the console here
            window.displayCurrent = displayCurrent;
            window.guess = guess;
        })();
    </script>
</body>

</html>
